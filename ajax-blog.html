<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://kit.fontawesome.com/1158dfb1c4.js" crossorigin="anonymous"></script>

    <title>Blog</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>

        body {
            background-color: darkgoldenrod;
        }

        #posts {
            padding: 10px;
        }

        #main-jumbotron {
            margin-bottom: 0;
            padding-bottom: 0;
        }

        #notification {
            color: firebrick;
        }

    </style>
</head>
<body>

<div class="fixed-top">
    <nav class="navbar navbar-dark bg-dark">
        <ul class="nav" id="top-nav">
            <a class="navbar-logo" href="#"><img src="https://randomuser.me/api/portraits/lego/7.jpg" width="50" height="50" alt="logo"></a>
            <li class="nav-item" id="top-nav-item-1"><a class="nav-link text-warning" href="#"><i class="fas fa-home"></i></a></li>
            <li class="nav-item" id="top-nav-item-2"><a class="nav-link text-info" href="#"><i class="fas fa-images"></i></a></li>
            <li class="nav-item" id="top-nav-item-3"><a class="nav-link text-warning" href="#"><i class="fas fa-bell" id="notification"></i></a></li>
            <li class="nav-item" id="top-nav-item-4"><a class="nav-link text-success" href="#"><i class="fas fa-user-cog"></i></a></li>
        </ul>
        <button type="button" class="btn btn-sm btn-outline-info" id="update-blog">Update Blog</button>
    </nav>
</div>

<div class="jumbotron jumbotron-fluid" id="main-jumbotron">
    <div class="container">
        <h1 class="display-4 text-black-50 text-right align-content-center">The Blogs</h1>
    </div>
</div>

<div class="container-fluid" id="posts">
    <div class="row">
        <div class="col-10" id="blog-col">
            <div class="card" id="blog-card">
                <img src="https://picsum.photos/1200/300" alt="cover-image">
                <div class="card-body">
                    <h3 class="card-title">Title: </h3>
                    <p class="card-text">Content</p>
                    <p class="card-text">Category</p>
                    <p class="card-text">Date</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script>
    (function () {
        "use strict";

        var ajaxRequest = $.ajax("data/blog.json");

        function updatePage() {
            ajaxRequest.done(function (data, status, jqXhr) {
                console.log(data);
                buildBlog(data);
            });

            ajaxRequest.fail(function (jqXhr, status, error) {
                console.log(jqXhr); // jQuery XMLHttpRequest object
                console.log(status);
                console.log(error);
            });
        }

        function buildBlog(posts) {
            var postHTML = "";

            posts.forEach(function (post) {
                postHTML += "<div class=\"container-fluid\" id=\"posts\">"
                postHTML += "<div class=\"row\">";
                postHTML += "<div class=\"col-10\">";
                postHTML += "<div class=\"card\">";
                postHTML += "<img src=\"https://picsum.photos/1200/300\" alt=\"cover-image\">";
                postHTML += "<div class=\"card-body\">";
                postHTML += "<h3 class=\"card-title\">" + post.title + "</h3>";
                postHTML += "<p class=\"card-text\">" + "Category" + "</p>";
                postHTML += "<p class=\"card-text\">" + post.categories + "</p>";
                postHTML += "<p class=\"card-text\">" + "Date" + "</p>";
                postHTML += "<p class=\"card-text\">" + post.date + "</p>";
                postHTML += "</div>";
                postHTML += "</div>";
                postHTML += "</div>";
                postHTML += "</div>";
                postHTML += "</div>";
            });

            $('#posts').html(postHTML);
        }

        $('#update-blog').click(updatePage);

    })();
</script>

</body>
</html>